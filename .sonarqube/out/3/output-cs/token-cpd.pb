à
gC:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\Migrations\FirstMigration.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
. 

Migrations '
{ 
[ 
	Migration 
( 
$num 
) 
] 
public		 

class		 
FirstMigration		 
:		  !
	Migration		" +
{

 
public 
override 
void 
Down !
(! "
)" #
{ 	
Delete 
. 
Table 
( 
$str "
)" #
;# $
} 	
public 
override 
void 
Up 
(  
)  !
{ 	
Create 
. 
Table 
( 
$str "
)" #
. 

WithColumn 
( 
$str  
)  !
.! "
AsInt32" )
() *
)* +
.+ ,
Identity, 4
(4 5
)5 6
.6 7
Unique7 =
(= >
)> ?
. 

WithColumn 
( 
$str "
)" #
.# $
AsInt32$ +
(+ ,
), -
.- .
WithDefaultValue. >
(> ?
$num? @
)@ A
. 

WithColumn 
( 
$str #
)# $
.$ %
AsInt32% ,
(, -
)- .
.. /
WithDefaultValue/ ?
(? @
$num@ B
)B C
;C D
} 	
} 
} –è
bC:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\Modules\BaseRPModule.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
. 
Modules $
{ 
[ 

NeedPlugin 
( 
) 
] 
public 

class 
BaseRPModule 
: 

ModuleBase  *
<* + 
SocketCommandContext+ ?
>? @
{ 
private 
readonly 
	RPService "
_rp# &
;& '
private 
readonly 
Random 
_random  '
;' (
private 
readonly 
object 
[  
]  !
gear" &
=' (
new) ,
[, -
]- .
{/ 0
new 
{ 
emoji 
= 
$str 
, 
money #
=$ %
$num& )
}* +
,+ ,
new 
{ 
emoji 
= 
$str 
, 
money $
=% &
$num' *
}+ ,
,- .
new 
{ 
emoji 
= 
$str 
, 
money $
=% &
$num' *
}+ ,
} 	
;	 

public 
BaseRPModule 
( 
	RPService %
	rPService& /
,/ 0
Random0 6
random7 =
)= >
{? @
_rp 
= 
	rPService 
; 
_random 
= 
random 
; 
} 	
[ 	
Command	 
( 
$str 
) 
] 
public   
async   
Task   
Me   
(   
)   
{!! 	
RPUser"" 
userAccount"" 
=""  
null""! %
;""% &
if## 
(## 
_rp## 
.## 

GetAccount## 
(## 
Context## &
.##& '
User##' +
,##+ ,
out##- 0
userAccount##1 <
)##< =
)##= >
{$$ 
var%% 
embed%% 
=%% 
new%% 
EmbedBuilder%%  ,
(%%, -
)%%- .
;%%. /
embed&& 
.&& 

WithAuthor&&  
(&&  !
Context&&! (
.&&( )
User&&) -
)&&- .
.'' 
WithRandomColor'' $
(''$ %
)''% &
.(( 
WithCopyrightFooter(( (
(((( )
Context(() 0
.((0 1
User((1 5
.((5 6
Username((6 >
,((> ?
$str((? C
)((C D
.)) 
AddField)) 
()) 
$str)) *
,))* +
$"))+ -
Gold: ))- 3
{))3 4
userAccount))4 ?
.))? @
Gold))@ D
}))D E
\nBolt: ))E M
{))M N
userAccount))N Y
.))Y Z
Bolts))Z _
}))_ `
"))` a
)))a b
;))b c
await** 

ReplyAsync**  
(**  !
embed**! &
:**& '
embed**( -
.**- .
Build**. 3
(**3 4
)**4 5
)**5 6
;**6 7
}++ 
else,, 
await,, 

ReplyAsync,, !
(,,! "
$str,," L
),,L M
;,,M N
}-- 	
[.. 	
Cooldown..	 
(.. 
$num.. 
).. 
].. 
[// 	
Command//	 
(// 
$str// 
)// 
]// 
public00 
async00 
Task00 
Lottery00 !
(00! "
)00" #
{00$ %
RPUser11 
userAccount11 
=11  
null11! %
;11% &
if22 
(22 
_rp22 
.22 

GetAccount22 
(22 
Context22 &
.22& '
User22' +
,22+ ,
out22- 0
userAccount221 <
)22< =
)22= >
{33 
var44 
columnCount44 
=44  !
$num44" #
;44# $
var55 

ligneCount55 
=55 
$num55 
;55 
var66 
array66 
=66 
new66 
dynamic66 #
[66# $

ligneCount66$ .
]66. /
[66/ 0
]660 1
;661 2
for77 
(77 
int77 
i77 
=77 
$num77 
;77 
i77 
<77 

ligneCount77  *
;77* +
i77, -
++77- /
)77/ 0
{88 
var99 
isMiddle99 
=99 
(99  

ligneCount99  *
/99+ ,
$num99- .
)99. /
==990 2
i993 4
;994 5
array:: 
[:: 
i:: 
]:: 
=:: 
new:: 
dynamic:: &
[::& '
columnCount::' 2
]::2 3
;::3 4
for<< 
(<< 
int<< 
x<< 
=<< 
$num<< 
;<< 
x<<  !
<<<" #
columnCount<<$ /
;<</ 0
x<<1 2
++<<2 4
)<<4 5
{<<6 7
array?? 
[?? 
i?? 
]?? 
[?? 
x?? 
]?? 
=??  !
gear??" &
[??& '
_random??' .
.??. /
Next??/ 3
(??3 4
gear??4 8
.??8 9
Length??9 ?
)??? @
]??@ A
;??A B
}AA 
}BB 
varDD 
sbDD 
=DD 
newDD 
StringBuilderDD &
(DD& '
)DD' (
;DD( )
varEE 
vEE 
=EE 
arrayEE 
[EE 
$numEE 
]EE  
.EE  !
CountEE! &
(EE& '
xEE' (
=>EE) +
{EE, -
ifFF 
(FF 
arrayFF 
[FF 
$numFF 
]FF  
[FF  !
$numFF! "
]FF" #
.FF# $
emojiFF$ )
!=FF* ,
xFF- .
.FF. /
emojiFF/ 4
)FF4 5
returnFF6 <
falseFF= B
;FFB C
returnGG 
trueGG 
;GG  
}HH 
)HH 
==HH 
columnCountHH !
;HH! "
ifII 
(II 
vII 
)II 
{II 
userAccountJJ 
.JJ  
GoldJJ  $
+=JJ% '
arrayJJ( -
[JJ- .
$numJJ. /
]JJ/ 0
[JJ0 1
$numJJ1 2
]JJ2 3
.JJ3 4
moneyJJ4 9
;JJ9 :
_rpKK 
.KK 

SetAccountKK "
(KK" #
userAccountKK# .
)KK. /
;KK/ 0
}LL 
sbMM 
.MM 
AppendMM 
(MM 
vMM 
?MM 
$"MM (
**Congratulations ! You won MM 8
{MM8 9
arrayMM9 >
[MM> ?
$numMM? @
]MM@ A
[MMA B
$numMMB C
]MMC D
.MMD E
moneyMME J
}MMJ K
 gold!**\r\nMMK W
"MMW X
:MMY Z
$strMM[ o
)MMo p
;MMp q
foreachNN 
(NN 
dynamicNN 
arNN 
inNN  "
arrayNN# (
)NN( )
{NN* +
foreachOO 
(OO 
dynamicOO  
valueOO! &
inOO' )
arOO* ,
)OO, -
{OO. /
sbPP 
.PP 
AppendPP 
(PP 
$strPP #
)PP# $
.PP$ %
AppendPP% +
(PP+ ,
valuePP, 1
.PP1 2
emojiPP2 7
)PP7 8
.PP8 9
AppendPP9 ?
(PP? @
$strPP@ C
)PPC D
;PPD E
}QQ 
sbRR 
.RR 
AppendRR 
(RR 
$strRR "
)RR" #
;RR# $
}SS 
awaitTT 

ReplyAsyncTT 
(TT 
sbTT 
.TT  
ToStringTT  (
(TT( )
)TT) *
)TT* +
;TT+ ,
}UU 
elseVV 
awaitVV 

ReplyAsyncVV !
(VV! "
$strVV" L
)VVL M
;VVM N
}WW 	
[YY 	
CommandYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
asyncZZ 
TaskZZ 
StartRPZZ !
(ZZ! "
)ZZ" #
{ZZ$ %
RPUser[[ 
userAccount[[ 
=[[  
null[[! %
;[[% &
if\\ 
(\\ 
!\\ 
_rp\\ 
.\\ 

GetAccount\\ 
(\\  
Context\\  '
.\\' (
User\\( ,
,\\, -
out\\. 1
userAccount\\2 =
)\\= >
&&\\? A
await\\B G
_rp\\H K
.\\K L
Start\\L Q
(\\Q R
Context\\R Y
.\\Y Z
User\\Z ^
)\\^ _
)\\_ `
{]] 
await^^ 

ReplyAsync^^ $
(^^$ %
$str^^% W
)^^W X
;^^X Y
}__ 
}`` 	
[bb 	
Commandbb	 
(bb 
$strbb 
)bb 
]bb 
[cc 	
Cooldowncc	 
(cc 
$numcc 
)cc 
]cc 
publicdd 
asyncdd 
Taskdd 
Dailydd 
(dd  
)dd  !
{dd" #
RPUseree 
userAccountee 
=ee  
nullee! %
;ee% &
ifff 
(ff 
_rpff 
.ff 

GetAccountff 
(ff 
Contextff &
.ff& '
Userff' +
,ff+ ,
outff- 0
userAccountff1 <
)ff< =
)ff= >
{gg 
varhh 
gainhh 
=hh 
_randomhh "
.hh" #
Nexthh# '
(hh' (
)hh( )
%hh* +
$numhh, /
;hh/ 0
userAccountii 
.ii 
Boltsii !
+=ii" $
gainii% )
;ii) *
_rpjj 
.jj 

SetAccountjj 
(jj 
userAccountjj *
)jj* +
;jj+ ,
awaitkk 

ReplyAsynckk  
(kk  !
$"kk! #

You won **kk# -
{kk- .
gainkk. 2
}kk2 3
** boltskk3 ;
"kk; <
)kk< =
;kk= >
}ll 
elsemm 
awaitmm 

ReplyAsyncmm !
(mm! "
$strmm" L
)mmL M
;mmM N
}nn 	
[pp 	
Commandpp	 
(pp 
$strpp 
)pp 
]pp 
[qq 	
Cooldownqq	 
(qq 
$numqq 
)qq 
]qq 
publicrr 
asyncrr 
Taskrr 
Hourlyrr  
(rr  !
)rr! "
{rr# $
RPUserss 
userAccountss 
=ss  
nullss! %
;ss% &
iftt 
(tt 
_rptt 
.tt 

GetAccounttt 
(tt 
Contexttt &
.tt& '
Usertt' +
,tt+ ,
outtt- 0
userAccounttt1 <
)tt< =
)tt= >
{uu 
varvv 
gainvv 
=vv 
_randomvv "
.vv" #
Nextvv# '
(vv' (
)vv( )
%vv* +
$numvv, .
;vv. /
userAccountww 
.ww 
Boltsww !
+=ww" $
gainww% )
;ww) *
_rpxx 
.xx 

SetAccountxx 
(xx 
userAccountxx  +
)xx+ ,
;xx, -
awaityy 

ReplyAsyncyy  
(yy  !
$"yy! #

You won **yy# -
{yy- .
gainyy. 2
}yy2 3
** boltsyy3 ;
"yy; <
)yy< =
;yy= >
}zz 
else{{ 
await{{ 

ReplyAsync{{ !
({{! "
$str{{" L
){{L M
;{{M N
}|| 	
[~~ 	
Command~~	 
(~~ 
$str~~ 
)~~ 
]~~ 
public 
async 
Task 
Pay 
( 

SocketUser (
target) /
,/ 0
String0 6
	ressource7 @
,@ A
intA D
amountE K
)K L
{M N
var
ÄÄ 
ress
ÄÄ 
=
ÄÄ 
	RPService
ÄÄ  
.
ÄÄ  !
ToRessourceEnum
ÄÄ! 0
(
ÄÄ0 1
	ressource
ÄÄ1 :
)
ÄÄ: ;
;
ÄÄ; <
RPUser
ÅÅ 
userAccount
ÅÅ 
=
ÅÅ  
null
ÅÅ! %
;
ÅÅ% &
RPUser
ÇÇ 
targetAccount
ÇÇ  
=
ÇÇ! "
null
ÇÇ# '
;
ÇÇ' (
if
ÉÉ 
(
ÉÉ 
_rp
ÉÉ 
.
ÉÉ 

GetAccount
ÉÉ 
(
ÉÉ 
Context
ÉÉ &
.
ÉÉ& '
User
ÉÉ' +
,
ÉÉ+ ,
out
ÉÉ- 0
userAccount
ÉÉ1 <
)
ÉÉ< =
)
ÉÉ= >
{
ÉÉ? @
if
ÑÑ 
(
ÑÑ 
ress
ÑÑ 
==
ÑÑ 

Ressources
ÑÑ &
.
ÑÑ& '
BOLT
ÑÑ' +
)
ÑÑ+ ,
{
ÖÖ 
if
ÜÜ 
(
ÜÜ 
userAccount
ÜÜ #
.
ÜÜ# $
Bolts
ÜÜ$ )
<
ÜÜ* +
amount
ÜÜ, 2
)
ÜÜ2 3
{
áá 
await
àà 

ReplyAsync
àà (
(
àà( )
$"
àà) +
... 
àà+ /
{
àà/ 0
Context
àà0 7
.
àà7 8
User
àà8 <
.
àà< =
Mention
àà= D
}
ààD E+
 You do not have enough bolts
ààE b
"
ààb c
)
ààc d
;
ààd e
return
ââ 
;
ââ 
}
ää 
}
ãã 
else
åå 
{
åå 
if
çç 
(
çç 
userAccount
çç #
.
çç# $
Gold
çç$ (
<
çç) *
amount
çç+ 1
)
çç1 2
{
éé 
await
èè 

ReplyAsync
èè (
(
èè( )
$"
èè) +
... 
èè+ /
{
èè/ 0
Context
èè0 7
.
èè7 8
User
èè8 <
.
èè< =
Mention
èè= D
}
èèD E*
 You do not have enough gold
èèE a
"
èèa b
)
èèb c
;
èèc d
return
êê 
;
êê 
}
ëë 
}
íí 
if
îî 
(
îî 
_rp
îî 
.
îî 

GetAccount
îî "
(
îî" #
target
îî# )
,
îî) *
out
îî* -
targetAccount
îî. ;
)
îî; <
)
îî< =
{
ïï 
if
ññ 
(
ññ 
ress
ññ 
==
ññ 

Ressources
ññ  *
.
ññ* +
BOLT
ññ+ /
)
ññ/ 0
{
óó 
targetAccount
òò %
.
òò% &
Bolts
òò& +
+=
òò, .
amount
òò/ 5
;
òò5 6
userAccount
ôô #
.
ôô# $
Bolts
ôô$ )
-=
ôô* ,
amount
ôô- 3
;
ôô3 4
_rp
öö 
.
öö 

SetAccount
öö &
(
öö& '
userAccount
öö( 3
)
öö3 4
;
öö4 5
_rp
õõ 
.
õõ 

SetAccount
õõ &
(
õõ& '
targetAccount
õõ( 5
)
õõ5 6
;
õõ6 7
}
úú 
else
ùù 
{
ûû 
targetAccount
üü %
.
üü% &
Gold
üü& *
+=
üü+ -
amount
üü. 4
;
üü4 5
userAccount
†† #
.
††# $
Gold
††$ (
-=
††) +
amount
††, 2
;
††2 3
}
°° 
_rp
¢¢ 
.
¢¢ 

SetAccount
¢¢ "
(
¢¢" #
userAccount
¢¢$ /
)
¢¢/ 0
;
¢¢0 1
_rp
££ 
.
££ 

SetAccount
££ "
(
££" #
targetAccount
££# 0
)
££0 1
;
££1 2
}
§§ 
else
•• 
await
•• 

ReplyAsync
•• %
(
••% &
$"
••& (
... I can't find 
••( 9
{
••9 :
target
••: @
.
••@ A
Mention
••A H
}
••H I#
's account `hb!start`
••I ^
"
••^ _
)
••_ `
;
••` a
}
¶¶ 
else
ßß 
await
ßß 

ReplyAsync
ßß !
(
ßß! "
$"
ßß" $
... I can't find 
ßß$ 5
{
ßß5 6
Context
ßß6 =
.
ßß= >
User
ßß> B
.
ßßB C
Mention
ßßC J
}
ßßJ K#
's account `hb!start`
ßßK `
"
ßß` a
)
ßßa b
;
ßßb c
}
®® 	
[
´´ 	
Command
´´	 
(
´´ 
$str
´´ 
)
´´ 
]
´´ 
public
¨¨ 
async
¨¨ 
Task
¨¨ 
	EightBall
¨¨ #
(
¨¨# $
[
¨¨$ %
	Remainder
¨¨% .
]
¨¨. /
string
¨¨/ 5
question
¨¨6 >
)
¨¨> ?
{
¨¨@ A
var
≠≠ 
questionRep
≠≠ 
=
≠≠ 
new
≠≠ !
[
≠≠! "
]
≠≠" #
{
≠≠$ %
$str
ÆÆ 
,
ÆÆ 
$str
ØØ 
,
ØØ 
$str
∞∞ 
,
∞∞ 
$str
±± 
}
≤≤ 
;
≤≤ 
await
≥≥ 

ReplyAsync
≥≥ 
(
≥≥ 
$"
≥≥ 
**
≥≥ !
{
≥≥! "
question
≥≥" *
}
≥≥* +
** : 
≥≥+ 0
{
≥≥0 1
questionRep
≥≥1 <
[
≥≥< =
_random
≥≥= D
.
≥≥D E
Next
≥≥E I
(
≥≥I J
)
≥≥J K
%
≥≥L M
questionRep
≥≥N Y
.
≥≥Y Z
Length
≥≥Z `
]
≥≥` a
}
≥≥a b
"
≥≥b c
)
≥≥c d
;
≥≥d e
}
¥¥ 	
}
µµ 
}∂∂ ˜
\C:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\PluginRefferal.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
HeroBot !
{ 
public 

class 
PluginRefferal 
:  !
IPluginRefferal" 1
{		 
}

 
} ı
TC:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\RPUser.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
{ 
public 

class 
RPUser 
{ 
public		 
long		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 
int

 
Gold

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
public 
int 
Bolts 
{ 
get 
; 
set  #
;# $
}% &
} 
} ˝$
`C:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\Services\RPService.cs
	namespace		 	
HeroBot		
 
.		 
Plugins		 
.		 
RP		 
.		 
Services		 %
{

 
public 

class 
	RPService 
{ 
public 
	RPService 
( 
IDatabaseService )
databaseService* 9
)9 :
{; <
	_database 
= 
databaseService '
;' (
} 	
private 
readonly 
static 
string  &

CreateUser' 1
=2 3
$str4 c
;c d
private 
readonly 
static 
string  &
GetUser' .
=/ 0
$str1 ]
;] ^
private 
readonly 
static 
string  &
	UpdateUer' 0
=1 2
$str3 |
;| }
private 
readonly 
IDatabaseService )
	_database* 3
;3 4
internal 
async 
Task 
< 
bool  
>  !
Start" '
(' (

SocketUser( 2
user3 7
)7 8
{ 	
await 
	_database 
. 
GetDbConnection +
(+ ,
), -
.- .
ExecuteAsync. :
(: ;

CreateUser; E
,E F
newG J
{K L
idM O
=P Q
(R S
longS W
)W X
userX \
.\ ]
Id] _
}` a
)a b
;b c
return 
true 
; 
} 	
internal 
static 

Ressources "
ToRessourceEnum# 2
(2 3
string3 9
s: ;
); <
{= >
switch 
( 
s 
) 
{ 
case 
$str 
: 
return 

Ressources %
.% &
GOLD& *
;* +
case   
$str   
:   
return!! 

Ressources!! %
.!!% &
BOLT!!& *
;!!* +
default"" 
:"" 
throw## 
new## %
InvalidOperationException## 7
(##7 8
)##8 9
;##9 :
}$$ 
}%% 	
internal'' 
bool'' 

GetAccount''  
(''  !

SocketUser''! +
user'', 0
,''0 1
out''2 5
RPUser''6 <
userAccount''= H
)''H I
{(( 	
var)) 
re)) 
=)) 
	_database)) 
.)) 
GetDbConnection)) .
()). /
)))/ 0
.))0 1
Query))1 6
<))6 7
RPUser))7 =
>))= >
())> ?
GetUser))? F
,))F G
new))H K
{))L M
id))N P
=))Q R
())S T
long))T X
)))X Y
user))Y ]
.))] ^
Id))^ `
}))a b
)))b c
.))c d
FirstOrDefault))d r
())r s
)))s t
;))t u
if** 
(** 
re** 
!=** 
null** 
)** 
{** 
userAccount++ 
=++ 
re++  
;++  !
return,, 
true,, 
;,, 
}-- 
userAccount.. 
=.. 
null.. 
;.. 
return// 
false// 
;// 
}00 	
internal22 
void22 

SetAccount22  
(22  !
RPUser22! '
userAccount22( 3
)223 4
{33 	
	_database44 
.44 
GetDbConnection44 %
(44% &
)44& '
.44' (
Execute44( /
(44/ 0
	UpdateUer440 9
,449 :
new44; >
{44? @
bolts44A F
=44G H
userAccount44I T
.44T U
Bolts44U Z
,44Z [
gold44\ `
=44a b
userAccount44c n
.44n o
Gold44o s
,44s t
id44u w
=44x y
userAccount	44z Ö
.
44Ö Ü
Id
44Ü à
}
44â ä
)
44ä ã
;
44ã å
}55 	
}66 
public77 

enum77 

Ressources77 
{77 
BOLT88 
=88 
$num88 
,88 
GOLD99 
=99 
$num99 
}:: 
};; 