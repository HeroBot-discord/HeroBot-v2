πr
bC:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\Modules\BaseRPModule.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
. 
Modules $
{ 
[ 

NeedPlugin 
( 
) 
] 
public 

class 
BaseRPModule 
: 

ModuleBase  *
<* + 
SocketCommandContext+ ?
>? @
{ 
private 
readonly 
	RPService "
_rp# &
;& '
private 
readonly 
Random 
_random  '
;' (
private 
readonly 
string 
[  
]  !
gear" &
=' (
new) ,
[, -
]- .
{/ 0
$str 
, 
$str 
, 
$str 
, 
$str 
} 	
;	 

public 
BaseRPModule 
( 
	RPService %
	rPService& /
,/ 0
Random0 6
random7 =
)= >
{? @
_rp 
= 
	rPService 
; 
_random 
= 
random 
; 
} 	
[ 	
Command	 
( 
$str 
) 
] 
public   
async   
Task   
Me   
(   
)   
{!! 	
RPUser"" 
userAccount"" 
=""  
null""! %
;""% &
if## 
(## 
_rp## 
.## 

GetAccount## 
(## 
Context## &
.##& '
User##' +
,##+ ,
out##- 0
userAccount##1 <
)##< =
)##= >
{$$ 
var%% 
embed%% 
=%% 
new%% 
EmbedBuilder%%  ,
(%%, -
)%%- .
;%%. /
embed&& 
.&& 

WithAuthor&&  
(&&  !
Context&&! (
.&&( )
User&&) -
)&&- .
.'' 
WithRandomColor'' $
(''$ %
)''% &
.(( 
WithCopyrightFooter(( (
(((( )
Context(() 0
.((0 1
User((1 5
.((5 6
Username((6 >
,((> ?
$str((? C
)((C D
.)) 
AddField)) 
()) 
$str)) *
,))* +
$"))+ -
gold: ))- 3
{))3 4
userAccount))4 ?
.))? @
Gold))@ D
}))D E
\nbolt: ))E M
{))M N
userAccount))N Y
.))Y Z
Bolt))Z ^
}))^ _
"))_ `
)))` a
;))a b
await** 

ReplyAsync**  
(**  !
embed**! &
:**& '
embed**( -
.**- .
Build**. 3
(**3 4
)**4 5
)**5 6
;**6 7
}++ 
else,, 
await,, 

ReplyAsync,, !
(,,! "
$str,," L
),,L M
;,,M N
}-- 	
[// 	
Command//	 
(// 
$str// 
)// 
]// 
public00 
async00 
Task00 
Lottery00 !
(00! "
)00" #
{00$ %
var11 
str11 
=11 
new11 
StringBuilder11 '
(11' (
$str11( 1
)111 2
;112 3
for22 
(22 
int22 
i22 
=22 
$num22 
;22 
i22 
<22 
$num22  !
*22! "
$num22" #
;22# $
i22% &
++22& (
)22( )
{22* +
if33 
(33 
(33 
i33 
%33 
$num33 
)33 
==33 
$num33  
&&33! #
i33$ %
!=33& (
$num33) *
)33* +
str33, /
.33/ 0
Append330 6
(336 7
$str337 B
)33B C
;33C D
str44 
.44 
Append44 
(44 
$str44 
)44 
.44  
Append44  &
(44& '
gear44' +
[44+ ,
_random44, 3
.443 4
Next444 8
(448 9
)449 :
%44; <
gear44= A
.44A B
Length44B H
]44H I
)44I J
.44J K
Append44K Q
(44Q R
$str44R \
)44\ ]
;44] ^
}55 
await66 

ReplyAsync66 
(66 
str66  
.66  !
ToString66! )
(66) *
)66* +
)66+ ,
;66, -
}77 	
[99 	
Command99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
StartRP:: !
(::! "
)::" #
{::$ %
RPUser;; 
userAccount;; 
=;;  
null;;! %
;;;% &
if<< 
(<< 
!<< 
_rp<< 
.<< 

GetAccount<< 
(<<  
Context<<  '
.<<' (
User<<( ,
,<<, -
out<<. 1
userAccount<<2 =
)<<= >
&&<<? A
await<<B G
_rp<<H K
.<<K L
Start<<L Q
(<<Q R
Context<<R Y
.<<Y Z
User<<Z ^
)<<^ _
)<<_ `
{== 
await>> 

ReplyAsync>> $
(>>$ %
$str>>% W
)>>W X
;>>X Y
}?? 
}@@ 	
[BB 	
CommandBB	 
(BB 
$strBB 
)BB 
]BB 
[CC 	
CooldownCC	 
(CC 
$numCC 
)CC 
]CC 
publicDD 
asyncDD 
TaskDD 
DailyDD 
(DD  
)DD  !
{DD" #
RPUserEE 
userAccountEE 
=EE  
nullEE! %
;EE% &
ifFF 
(FF 
_rpFF 
.FF 

GetAccountFF 
(FF 
ContextFF &
.FF& '
UserFF' +
,FF+ ,
outFF- 0
userAccountFF1 <
)FF< =
)FF= >
{GG 
varHH 
gainHH 
=HH 
_randomHH "
.HH" #
NextHH# '
(HH' (
)HH( )
%HH* +
$numHH, /
;HH/ 0
userAccountII 
.II 
BoltII  
+=II! #
gainII$ (
;II( )
_rpJJ 
.JJ 

SetAccountJJ 
(JJ 
ContextJJ &
.JJ& '
UserJJ' +
,JJ+ ,
userAccountJJ, 7
)JJ7 8
;JJ8 9
awaitKK 

ReplyAsyncKK  
(KK  !
$"KK! #

You won **KK# -
{KK- .
gainKK. 2
}KK2 3
** boltsKK3 ;
"KK; <
)KK< =
;KK= >
}LL 
elseMM 
awaitMM 

ReplyAsyncMM !
(MM! "
$strMM" L
)MML M
;MMM N
}NN 	
[PP 	
CommandPP	 
(PP 
$strPP 
)PP 
]PP 
[QQ 	
CooldownQQ	 
(QQ 
$numQQ 
)QQ 
]QQ 
publicRR 
asyncRR 
TaskRR 
HourlyRR  
(RR  !
)RR! "
{RR# $
RPUserSS 
userAccountSS 
=SS  
nullSS! %
;SS% &
ifTT 
(TT 
_rpTT 
.TT 

GetAccountTT 
(TT 
ContextTT &
.TT& '
UserTT' +
,TT+ ,
outTT- 0
userAccountTT1 <
)TT< =
)TT= >
{UU 
varVV 
gainVV 
=VV 
_randomVV "
.VV" #
NextVV# '
(VV' (
)VV( )
%VV* +
$numVV, .
;VV. /
userAccountWW 
.WW 
BoltWW  
+=WW! #
gainWW$ (
;WW( )
_rpXX 
.XX 

SetAccountXX 
(XX 
ContextXX &
.XX& '
UserXX' +
,XX+ ,
userAccountXX- 8
)XX8 9
;XX9 :
awaitYY 

ReplyAsyncYY  
(YY  !
$"YY! #

You won **YY# -
{YY- .
gainYY. 2
}YY2 3
** boltsYY3 ;
"YY; <
)YY< =
;YY= >
}ZZ 
else[[ 
await[[ 

ReplyAsync[[ !
([[! "
$str[[" L
)[[L M
;[[M N
}\\ 	
[^^ 	
Command^^	 
(^^ 
$str^^ 
)^^ 
]^^ 
public__ 
async__ 
Task__ 
Pay__ 
(__ 

SocketUser__ (
target__) /
,__/ 0
String__0 6
	ressource__7 @
,__@ A
int__A D
amount__E K
)__K L
{__M N
var`` 
ress`` 
=`` 
	RPService``  
.``  !
ToRessourceEnum``! 0
(``0 1
	ressource``1 :
)``: ;
;``; <
RPUseraa 
userAccountaa 
=aa  
nullaa! %
;aa% &
RPUserbb 
targetAccountbb  
=bb! "
nullbb# '
;bb' (
ifcc 
(cc 
_rpcc 
.cc 

GetAccountcc 
(cc 
Contextcc &
.cc& '
Usercc' +
,cc+ ,
outcc- 0
userAccountcc1 <
)cc< =
)cc= >
{cc? @
ifdd 
(dd 
ressdd 
==dd 

Ressourcesdd &
.dd& '
BOLTdd' +
)dd+ ,
{ee 
ifff 
(ff 
userAccountff #
.ff# $
Boltff$ (
<ff) *
amountff+ 1
)ff1 2
{gg 
awaithh 

ReplyAsynchh (
(hh( )
$"hh) +
... hh+ /
{hh/ 0
Contexthh0 7
.hh7 8
Userhh8 <
.hh< =
Mentionhh= D
}hhD E)
 You do not have enough boltshhE b
"hhb c
)hhc d
;hhd e
returnii 
;ii 
}jj 
}kk 
elsell 
{ll 
ifmm 
(mm 
userAccountmm #
.mm# $
Goldmm$ (
<mm) *
amountmm+ 1
)mm1 2
{nn 
awaitoo 

ReplyAsyncoo (
(oo( )
$"oo) +
... oo+ /
{oo/ 0
Contextoo0 7
.oo7 8
Useroo8 <
.oo< =
Mentionoo= D
}ooD E(
 You do not have enough goldooE a
"ooa b
)oob c
;ooc d
returnpp 
;pp 
}qq 
}rr 
iftt 
(tt 
_rptt 
.tt 

GetAccounttt "
(tt" #
targettt# )
,tt) *
outtt* -
targetAccounttt. ;
)tt; <
)tt< =
{uu 
ifvv 
(vv 
ressvv 
==vv 

Ressourcesvv  *
.vv* +
BOLTvv+ /
)vv/ 0
{ww 
targetAccountxx %
.xx% &
Boltxx& *
+=xx+ -
amountxx. 4
;xx4 5
userAccountyy #
.yy# $
Boltyy$ (
-=yy) +
amountyy, 2
;yy2 3
_rpzz 
.zz 

SetAccountzz &
(zz& '
Contextzz' .
.zz. /
Userzz/ 3
,zz3 4
userAccountzz5 @
)zz@ A
;zzA B
_rp{{ 
.{{ 

SetAccount{{ &
({{& '
target{{' -
,{{- .
targetAccount{{/ <
){{< =
;{{= >
}|| 
else}} 
{~~ 
targetAccount %
.% &
Gold& *
+=+ -
amount. 4
;4 5
userAccount
ÄÄ #
.
ÄÄ# $
Gold
ÄÄ$ (
-=
ÄÄ) +
amount
ÄÄ, 2
;
ÄÄ2 3
}
ÅÅ 
_rp
ÇÇ 
.
ÇÇ 

SetAccount
ÇÇ "
(
ÇÇ" #
Context
ÇÇ# *
.
ÇÇ* +
User
ÇÇ+ /
,
ÇÇ/ 0
userAccount
ÇÇ1 <
)
ÇÇ< =
;
ÇÇ= >
_rp
ÉÉ 
.
ÉÉ 

SetAccount
ÉÉ "
(
ÉÉ" #
target
ÉÉ# )
,
ÉÉ) *
targetAccount
ÉÉ+ 8
)
ÉÉ8 9
;
ÉÉ9 :
}
ÑÑ 
else
ÖÖ 
await
ÖÖ 

ReplyAsync
ÖÖ %
(
ÖÖ% &
$"
ÖÖ& (
... I can't find 
ÖÖ( 9
{
ÖÖ9 :
target
ÖÖ: @
.
ÖÖ@ A
Mention
ÖÖA H
}
ÖÖH I#
's account `hb!start`
ÖÖI ^
"
ÖÖ^ _
)
ÖÖ_ `
;
ÖÖ` a
}
ÜÜ 
else
áá 
await
áá 

ReplyAsync
áá !
(
áá! "
$"
áá" $
... I can't find 
áá$ 5
{
áá5 6
Context
áá6 =
.
áá= >
User
áá> B
.
ááB C
Mention
ááC J
}
ááJ K#
's account `hb!start`
ááK `
"
áá` a
)
ááa b
;
ááb c
}
àà 	
[
ãã 	
Command
ãã	 
(
ãã 
$str
ãã 
)
ãã 
]
ãã 
public
åå 
async
åå 
Task
åå 
	EightBall
åå #
(
åå# $
[
åå$ %
	Remainder
åå% .
]
åå. /
string
åå/ 5
question
åå6 >
)
åå> ?
{
åå@ A
var
çç 
questionRep
çç 
=
çç 
new
çç !
[
çç! "
]
çç" #
{
çç$ %
$str
éé 
,
éé 
$str
èè 
,
èè 
$str
êê 
,
êê 
$str
ëë 
}
íí 
;
íí 
await
ìì 

ReplyAsync
ìì 
(
ìì 
$"
ìì 
**
ìì !
{
ìì! "
question
ìì" *
}
ìì* +
** : 
ìì+ 0
{
ìì0 1
questionRep
ìì1 <
[
ìì< =
_random
ìì= D
.
ììD E
Next
ììE I
(
ììI J
)
ììJ K
%
ììL M
questionRep
ììN Y
.
ììY Z
Length
ììZ `
]
ìì` a
}
ììa b
"
ììb c
)
ììc d
;
ììd e
}
îî 	
}
ïï 
}ññ ˜
\C:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\PluginRefferal.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
HeroBot !
{ 
public 

class 
PluginRefferal 
:  !
IPluginRefferal" 1
{		 
}

 
} å
TC:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\RPUser.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
{ 
public 

class 
RPUser 
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public

 
ulong

 
UserId

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
int 
Gold 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Bolt 
{ 
get 
; 
set "
;" #
}$ %
} 
} ë!
`C:\Users\Matthieu\source\repos\HeroBot-deux-point-z√©ro\HeroBot.Plugins.RP\Services\RPService.cs
	namespace 	
HeroBot
 
. 
Plugins 
. 
RP 
. 
Services %
{ 
public		 

class		 
	RPService		 
{

 
private 
readonly 
List 
< 
RPUser $
>$ %
rPUsers& -
=. /
new0 3
List4 8
<8 9
RPUser9 ?
>? @
(@ A
)A B
;B C
internal 
async 
Task 
< 
bool  
>  !
Start" '
(' (

SocketUser( 2
user3 7
)7 8
{ 	
rPUsers 
. 
Add 
( 
new 
RPUser "
(" #
)# $
{ 
Bolt 
= 
$num 
, 
Gold 
= 
$num 
, 
UserId 
= 
user 
. 
Id  
,  !
Id 
= 
rPUsers 
. 
Count "
+" #
$num# $
} 
) 
; 
return 
true 
; 
} 	
internal 
static 

Ressources "
ToRessourceEnum# 2
(2 3
string3 9
s: ;
); <
{= >
switch 
( 
s 
) 
{ 
case 
$str 
: 
return 

Ressources %
.% &
GOLD& *
;* +
case 
$str 
: 
return 

Ressources %
.% &
BOLT& *
;* +
default   
:   
throw!! 
new!! %
InvalidOperationException!! 7
(!!7 8
)!!8 9
;!!9 :
}"" 
}## 	
internal%% 
bool%% 

GetAccount%%  
(%%  !

SocketUser%%! +
user%%, 0
,%%0 1
out%%2 5
RPUser%%6 <
userAccount%%= H
)%%H I
{&& 	
if'' 
('' 
rPUsers'' 
.'' 
Any'' 
('' 
x'' 
=>''  
x''! "
.''" #
UserId''# )
==''* ,
user''- 1
.''1 2
Id''2 4
)''4 5
)''5 6
{(( 
userAccount)) 
=)) 
rPUsers)) %
.))% &
First))& +
())+ ,
x)), -
=>)). 0
x))1 2
.))2 3
UserId))3 9
==)): <
user))= A
.))A B
Id))B D
)))D E
;))E F
}** 
else++ 
{,, 
userAccount-- 
=-- 
null-- "
;--" #
return.. 
false.. 
;.. 
}// 
return00 
true00 
;00 
}11 	
internal33 
void33 

SetAccount33  
(33  !

SocketUser33! +
user33, 0
,330 1
RPUser332 8
userAccount339 D
)33D E
{44 	
var55 
userd55 
=55 
rPUsers55 
.55  
FirstOrDefault55  .
(55. /
x55/ 0
=>551 3
x554 5
.555 6
Id556 8
==559 ;
userAccount55< G
.55G H
Id55H J
)55J K
;55K L
rPUsers66 
.66 
Remove66 
(66 
userd66  
)66  !
;66! "
rPUsers77 
.77 
Add77 
(77 
userAccount77 #
)77# $
;77$ %
}88 	
}99 
public:: 

enum:: 

Ressources:: 
{:: 
BOLT;; 
=;; 
$num;; 
,;; 
GOLD<< 
=<< 
$num<< 
}== 
}>> 